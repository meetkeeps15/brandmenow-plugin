@import url('https://fonts.googleapis.com/css2?family=Figtree:wght@400;500;600;700&display=swap');
:root{
  --bg:#f7f8fb;--panel:#ffffff;--text:#111827;--muted:#6b7280;--primary:#0ea5e9;--accent:#7aa2f7;--border:#e5e7eb;
}
.agui-card{font-family:'Figtree',system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,'Apple Color Emoji','Segoe UI Emoji';font-size:14px;line-height:1.6;background:var(--panel);border-radius:16px;padding:18px;margin:16px 0;box-shadow:0 1px 2px rgba(16,24,40,.06)}
.agui-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;padding:16px 20px;border-bottom:1px solid var(--border);background:#fff}
.branding{display:flex;align-items:center;gap:8px}
.logo-dot{width:12px;height:12px;border-radius:6px;background:linear-gradient(135deg,var(--primary),var(--accent))}
.title{font-weight:600;color:var(--text)}
.connections{display:flex;align-items:center;gap:10px}
.card-title{font-family:'Figtree',system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,'Apple Color Emoji','Segoe UI Emoji';font-size:30px;line-height:1.25;color:#0f172a;margin:0 0 6px 0}
.connections{display:flex;align-items:center;gap:10px}
.status{padding:4px 8px;border-radius:8px;font-size:12px;background:#eef2f7;color:#334155;border:1px solid var(--border)}
.status-on{background:#e6f6ff;color:#0284c7}
.btn{border:1px solid var(--border);border-radius:10px;padding:8px 14px;cursor:pointer;background:#ffffff;color:#0f172a}
.btn-primary{background:#0ea5e9;border-color:#0ea5e9;color:#ffffff;font-weight:600}
.btn-secondary{background:#ffffff;color:#0f172a}
.chat-window{}
.chat-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
.chat-title{font-weight:600;color:#0f172a}
.typing{color:var(--muted);font-size:13px}
.hidden{display:none}
.messages{height:420px;overflow:auto;background:#ffffff;border:1px solid var(--border);border-radius:14px;padding:18px;display:flex;flex-direction:column;gap:12px}
.suggestions{display:flex;flex-wrap:wrap;gap:8px;margin-top:8px}
.chip{border:1px solid var(--border);background:#ffffff;color:#0f172a;border-radius:999px;padding:6px 10px;font-size:12px;cursor:pointer}
.chip:hover{border-color:#cfe9ff;background:#f8fbff}
.msg{display:flex;gap:10px}
.msg .bubble{padding:10px 12px;border-radius:14px;line-height:1.5;max-width:70%;border:1px solid var(--border)}
.msg.user .bubble{background:#eef2ff;color:#1f2937;border-color:#dbe3ff}
.msg.assistant .bubble{background:#f8fafc;color:#0f172a;border-color:#e5e7eb}
.msg.system .bubble{background:#fff7ed;color:#7c3aed;border-color:#fde68a}
.msg .role{width:10px;height:10px;border-radius:5px;margin-top:6px}
.msg.user .role{background:#93c5fd}
.msg.assistant .role{background:#a7f3d0}
.msg.system .role{background:#fcd34d}

/* Image bubbles */
.bubble .image-block{display:flex;flex-direction:column;gap:8px}
.bubble .image-block img{max-width:100%;height:auto;border-radius:10px;border:1px solid var(--border)}
.bubble .image-caption{font-size:12px;color:#475569}

/* List and paragraph formatting inside message bubbles (WordPress plugin) */
.bubble p{margin:6px 0;}
.bubble ul{margin:8px 0 8px 18px;padding:0;list-style:disc}
.bubble ol{margin:8px 0 8px 18px;padding:0;list-style:decimal}
.bubble li{margin:4px 0}
/* List and paragraph formatting inside BM messages */
.bm-message-content p{margin:6px 0;}
.bm-message ul{margin:8px 0 8px 18px;padding:0;list-style:disc}
.bm-message ol{margin:8px 0 8px 18px;padding:0;list-style:decimal}
.bm-message li{margin:4px 0}

/* Stacked pre-chat form */
.form-stack{display:flex;flex-direction:column;gap:12px;margin-bottom:12px;min-width:500px;width:100%}
.field{display:flex;flex-direction:column;gap:6px}
.field span{font-size:13px;color:#475569}
input,textarea{background:#ffffff;border:1px solid var(--border);color:#0f172a;border-radius:10px;padding:12px;transition:border-color .15s ease,box-shadow .15s ease}
input::placeholder,textarea::placeholder{color:#94a3b8}
.field:focus-within input,.field:focus-within textarea{border-color:#9edcff;box-shadow:0 0 0 4px rgba(14,165,233,.15)}
.actions{display:flex;justify-content:flex-end}
.agent-landing-subtitle {
	font-size: 14px !important;
}

.bm-message-container.bm-assistant[data-role="system"] .bm-message-meta {
	padding: 0;
	margin: 0;
}
.bm-message-container.bm-assistant[data-role="system"] {
	width: fit-content;
	padding: 10px;
	background: #f8fafc;
	border-radius: 5px;
}
/* Chat composer */
.composer{display:flex;gap:10px;margin-top:12px;flex-wrap:wrap}
.composer input{flex:1 1 240px;background:#ffffff;border:1px solid var(--border);color:#0f172a;border-radius:10px;padding:10px}
.file-input{border:1px dashed var(--border);border-radius:10px;padding:8px;background:#f8fafc;color:#475569}

/* Subtle animations */
.animate-in{animation:riseIn .22s ease both}
.fade-out{animation:fadeOut .18s ease both}
@keyframes riseIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeOut{from{opacity:1}to{opacity:0}}

/* Professional micro-interactions */
.btn, .icon-btn, .chip, .bm-copy-btn { transition: background-color .15s ease, color .15s ease, box-shadow .18s ease, transform .12s ease; }
.btn:hover, .icon-btn:hover, .chip:hover { transform: translateY(-1px); }
.conv-dropdown { opacity: 0; transform: translateY(-2px); transition: opacity .15s ease, transform .15s ease; }
.conv-dropdown.show { opacity: 1; transform: translateY(0); }
.bm-message { transition: box-shadow .18s ease, transform .18s ease; }
.bm-message:hover { box-shadow: 0 2px 6px rgba(0,0,0,0.06); transform: translateY(-1px); }
.bm-conv-title.editing { outline: 1px solid var(--border); border-radius: 6px; padding: 2px 4px; background: #fff; }

/* Responsive fallback: allow small screens to avoid horizontal scroll */
@media (max-width:560px){
  .form-stack{min-width:0}
  .messages{height:320px}
  .msg .bubble{max-width:100%}
}
/* Logo generator modal */
.lg-overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(15,23,42,.45);z-index:9999;backdrop-filter:blur(2px)}
.lg-modal{display:grid;grid-template-columns:380px 1fr;gap:16px;background:#fff;border:1px solid var(--border);border-radius:16px;padding:16px;box-shadow:0 12px 32px rgba(2,6,23,.18);max-width:980px;width:92vw;max-height:86vh;overflow:auto}
.lg-title{font-weight:600;color:var(--text);margin-bottom:8px}
.lg-controls{display:flex;flex-direction:column;gap:10px}
.lg-field{display:flex;flex-direction:column;gap:6px}
.lg-field label{font-size:12px;color:#475569}
.lg-row{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}
.lg-icons{display:grid;grid-template-columns:repeat(6,1fr);gap:8px}
.lg-icon{border:1px solid var(--border);border-radius:10px;padding:8px;background:#f8fafc;cursor:pointer;display:flex;align-items:center;justify-content:center}
.lg-icon.selected{border-color:var(--primary);box-shadow:0 0 0 3px rgba(14,165,233,.18);background:#fff}
.lg-actions{display:flex;gap:8px;margin-top:12px}
.lg-preview-wrap{border:1px solid var(--border);border-radius:14px;background:#fff;padding:12px;height:100%;display:flex;align-items:center;justify-content:center}
.lg-preview svg{max-width:100%;height:auto}
@media (max-width:860px){.lg-modal{grid-template-columns:1fr}}
/* Layout with sidebar similar to reference page */
.agui-layout{display:grid;grid-template-columns:260px 1fr;min-height:100vh;background:var(--bg)}
.agui-sidebar{background:#ffffff;border-right:1px solid var(--border);display:flex;flex-direction:column}
.agui-sidebar .sidebar-header{display:flex;align-items:center;gap:10px;padding:16px;font-weight:600;color:#0f172a}
.agui-sidebar .brand-name{font-size:16px}
.agui-nav{display:flex;flex-direction:column;gap:4px;padding:8px}
.agui-nav .nav-section{margin-top:12px;padding:8px;font-size:11px;color:var(--muted);text-transform:uppercase;letter-spacing:.04em}
.agui-nav .nav-item{display:flex;align-items:center;gap:10px;border-radius:12px;padding:10px 12px;color:#0f172a;text-decoration:none;border:1px solid transparent}
.agui-nav .nav-item:hover{background:#f8fbff;border-color:#cfe9ff}
.agui-nav .nav-item.active{background:#eef6ff;border-color:#9edcff}
.agui-nav .nav-icon{width:18px;height:18px;border-radius:4px;background:linear-gradient(135deg, var(--primary), #7c3aed);opacity:.85}
.agui-sidebar .sidebar-footer{margin-top:auto;padding:12px;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:8px}
.agui-main{padding:20px}

@media (max-width:920px){
  .agui-layout{grid-template-columns:1fr}
  .agui-sidebar{position:fixed;inset:0 auto 0 0;width:78vw;transform:translateX(-100%);transition:transform .2s ease;box-shadow:0 8px 24px rgba(2,6,23,.18);z-index:999}
  .agui-layout.sidebar-open .agui-sidebar{transform:translateX(0)}
  .agui-main{padding:12px}
}
/* ===== BM Chat Main ===== */
.bm-chat-main {
 position: relative;
  width: 100%;
  min-width: 75vw;
  /* padding-bottom: 150px; */
}
@media (max-width:920px){

  .bm-chat-main {
  position: relative;
  width: 100%;
  min-height: 400px;
  max-width: auto;
  min-width: auto;
}
}
/* Agent Landing Component */
.agent-landing {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 48px 16px;
}
.agent-landing-inner {
  max-width: 480px;
  width: 100%;
  margin: 0 auto;
  text-align: center;
  background: #fff;
  border-radius: 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.08);
  padding: 32px;
}
.agent-landing-avatar {
  width: 72px;
  height: 72px;
  border-radius: 50%;
  background: linear-gradient(135deg, #ffd54f, #f48fb1);
  margin: 0 auto 16px auto;
}
.bm-assistant-avatar {
	width: 35px;
}
.agent-landing-title {
  margin: 8px 0 4px 0;
  font-size: 22px;
  font-weight: 700;
}
.agent-landing-subtitle {
  margin: 0 0 20px 0;
  color: #666;
}
.agent-landing-cta {
  padding: 10px 16px;
  font-weight: 600;
}
.agent-landing-form.hidden { display: none; }
.agent-landing-form .landing-form { margin-top: 16px; text-align: left; }
.agent-landing-form .form-row { display: flex; flex-direction: column; gap: 6px; margin-bottom: 12px; }
.agent-landing-form label { font-size: 13px; color: #444; }
.agent-landing-form input { padding: 10px 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 14px; }
.agent-landing-form .form-status { margin-top: 8px; font-size: 13px; }
.agent-landing-form .form-status.ok { color: #2e7d32; }
.agent-landing-form .form-status.error { color: #d32f2f; }
#new-chat {
	background: no-repeat;
	color: #000;
	padding: 0;
	border: 0 !important;
	box-shadow: none;
	width: fit-content;
}
/* Truva Design System Tokens */
:root {
  --primary-color: #2563eb; --primary-hover: #1d4ed8; --primary-ring: rgba(37, 99, 235, 0.2);
  --background-color: #ffffff; --text-color: #343541; --border-color: #e5e7eb;
  --user-message-bg: #f7f7f8; --assistant-message-bg: #fff;
  --space-2: 8px; --space-3: 12px; --space-4: 16px;
  --radius-md: 10px; --font-size-base: 14px;
  --input-background: #fff;
  --sidebar-bg: #f8fafc; --sidebar-width: auto;
  --conversation-hover: #f1f5f9; --conversation-active: #eff6ff;
  --avatar-size: 32px; --persona-avatar-size: 40px;
}
.sidebar-collapsed .bm-chat-main {
	width: 96%;
}
/* Wrapper with fixed left sidebar */
.bm-chat-app{font-family:'Figtree',system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial; color:var(--text-color); background:var(--background-color); min-height:100vh;}
/* Generic sidebar (WordPress) fixed layout parity */
body.with-sidebar .sidebar {
  position: fixed;
  top: 0;
  left: 0;
  bottom: 0;
  width: var(--sidebar-width)a;
  padding: 20px 10px;
  background: var(--sidebar-bg);
  border-right: 1px solid var(--border-color);
  display: flex;
  flex-direction: column;
  min-width: auto;
}
.bm-with-sidebar .bm-chat-container{margin-left:var(--sidebar-width);} 

/* Sidebar Header */
.bm-sidebar-header{position:relative;}
.bm-sidebar-menu-btn{margin-left:auto; display:inline-flex; align-items:center; justify-content:center; width:28px; height:28px; border-radius:6px; border:1px solid var(--border-color); background:#fff; color:var(--text-color); cursor:pointer;}
.bm-sidebar-menu-btn:hover{background:var(--background-color);} 
.bm-sidebar-menu{position:absolute; top:40px; right:8px; background:#fff; border:1px solid var(--border-color); border-radius:8px; box-shadow:0 8px 20px rgba(0,0,0,.08); padding:8px; display:none; z-index:10;}
.bm-sidebar-menu.open{display:block;}
.bm-menu-item{display:flex; align-items:center; gap:8px; padding:6px 8px; width:160px; border-radius:6px; border:1px solid transparent; background:transparent; color:var(--text-color); cursor:pointer;}
.bm-menu-item:hover{background:var(--background-color); border-color:var(--border-color);} 
/* Conversation list (bm-prefixed parity + visual tune to match screenshot) */
.conversation-list, #bm-conversation-list { 
  display: flex; flex-direction: column; gap: 8px; flex: 1; 
  overflow-y: auto; margin-bottom: var(--space-4);
}
.bm-conversation-item { 
  display: flex; align-items: center; gap: 8px; 
  padding: 10px 12px; border: 1px solid transparent; border-radius: 10px; 
  background: transparent; cursor: pointer; transition: all 0.18s ease; 
  text-align: left; width: 100%; position: relative;
}
.bm-conversation-item:hover { background: var(--conversation-hover); border-color: var(--border-color); }
.bm-conversation-item.active { background: var(--conversation-active); border-color: var(--primary-color); box-shadow: 0 0 0 2px var(--primary-ring); }

/* Left-aligned avatar + title */
.bm-conv-left { display: flex; align-items: center; gap: 8px; flex: 1; }
.bm-avatar { width: 28px; height: 28px; border-radius: 50%; border: 1px solid var(--border-color); background: #f3f4f6; object-fit: cover; }
.bm-avatar.placeholder { background: linear-gradient(135deg,#e5e7eb,#f8fafc); }
.bm-conv-title { font-size: var(--font-size-base); font-weight: 500; color: var(--text-color); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: none; }
.bm-conv-time { display: none; font-size: 12px; color: #6b7280; margin-left: auto; }
.bm-conversation-item  img, .bm-assistant img {
  border-radius: 50px !important  ;
}
/* Conversation item menu button and dropdown */
.icon-btn.conv-menu { margin-left: auto; color: #64748b; cursor: pointer; font-size: 16px; line-height: 1; padding: 2px 6px; }
.icon-btn.conv-menu:hover { color: #0ea5e9; }
.conv-dropdown { position: absolute; right: 8px; top: 34px; background: #0b1220; border: 1px solid rgba(148,163,184,0.2); box-shadow: 0 6px 16px rgba(15,23,42,0.35); border-radius: 10px; padding: 6px; min-width: 140px; display: none; z-index: 10; }
.conv-dropdown.show { display: block; }
.conv-dropdown .dropdown-item { display: block; width: 100%; text-align: left; padding: 8px 10px; font-size: 13px; border-radius: 8px; color: #e2e8f0; background: transparent; }
.conv-dropdown .dropdown-item:hover { background: rgba(148,163,184,0.15); }
.bm-error{color:#b91c1c; font-size:var(--font-size-sm);} 

/* Accessibility helpers */
.bm-chat-messages[role="log"]{outline:none;} 

/* Responsiveness */
@media (max-width:900px){
  .bm-with-sidebar .bm-sidebar{position:static; width:auto; height:auto;}
  .bm-with-sidebar .bm-chat-container{margin-left:0;}
  #bm-user-input{width:100%;}
  .bm-icon-btn{min-width:44px; min-height:44px;}
}

@keyframes bm-fade-in{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}
.container{max-width:980px;margin:0 auto;padding:20px}
.footer{padding:22px;color:#64748b;text-align:center}
/* Voice recording visual state (frontend parity) */
#bm-voice-button.recording {
  background: #ef4444;
  color: #ffffff;
}
.bm-error{color:#b91c1c; font-size:var(--font-size-sm);} 

/* Accessibility helpers */
.bm-chat-messages[role="log"]{outline:none;} 

/* Responsiveness */
@media (max-width:900px){
  .bm-with-sidebar .bm-sidebar{position:static; width:auto; height:auto;}
  .bm-with-sidebar .bm-chat-container{margin-left:0;}
  #bm-user-input{width:100%;}
  .bm-icon-btn{min-width:44px; min-height:44px;}
}

@keyframes bm-fade-in{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}
.container{max-width:980px;margin:0 auto;padding:20px}
.footer{padding:22px;color:#64748b;text-align:center}
/* Message meta styles for bm markup */
.bm-message-meta { 
  margin-top: 6px; 
  font-size: 12px; 
  color: #6b7280; 
  display: flex; 
  align-items: center; 
  gap: 6px; 
}
.bm-time-ago { 
  font-size: 12px; 
  color: #9ca3af; 
}
/* ... existing code ... */
/* Buttons (match reference: rounded, subtle shadows, clear hierarchy) */
.bmms-btn{display:inline-flex;align-items:center;justify-content:center;padding:8px 14px;border-radius:8px;font-weight:600;font-size:14px;border:1px solid var(--border);background:#fff;color:#111827;box-shadow:0 1px 2px rgba(2,6,23,.06);cursor:pointer;transition:all .15s ease}
.bmms-btn:hover{box-shadow:0 4px 12px rgba(2,6,23,.08)}
.bmms-btn:active{transform:translateY(1px)}
.bmms-btn-primary{background:#111827;color:#fff;border-color:#111827}
.bmms-btn-secondary{background:#f3f4f6;color:#111827;border-color:#e5e7eb}
.bmms-actions{display:flex;gap:10px;justify-content:center;margin-top:12px}
.bmms-empty{text-align:center;padding:40px;color:#6b7280}
.bmms-empty.error{color:#ef4444}

/* Hidden radio pattern for logo idea selection */
.bmms-idea-card{position:relative;display:block;border:1px solid #e5e7eb;border-radius:8px;padding:4px;background:#fff;cursor:pointer}
.bmms-idea-card input{position:absolute;opacity:0;inset:0;width:0;height:0}
.bmms-idea-card img{display:block;width:100%;height:auto;border-radius:6px;transition:box-shadow .15s ease, outline .15s ease}
.bmms-idea-card input:focus-visible + img{outline:2px solid #93c5fd}
.bmms-idea-card input:checked + img{outline:2px solid #111827;box-shadow:0 6px 20px rgba(2,6,23,.16)}

/* Form controls to match reference */
.bmms-form input[type="text"], .bmms-form input[type="email"], .bmms-form textarea{width:100%;padding:12px 14px;border-radius:10px;border:1px solid #e5e7eb;background:#fff;color:#111827;font-size:14px}
.bmms-form input::placeholder, .bmms-form textarea::placeholder{color:#9ca3af}
.bmms-fields{display:flex;flex-direction:column;gap:16px;max-width:500px;margin:16px auto}
.bmms-fields .actions{display:flex;gap:10px;justify-content:center;margin-top:16px}
.bmms-tip{color:#6b7280; font-size:13px; margin-top:8px}
.bmms-close{position:absolute; top:14px; right:16px; border:none; background:transparent; font-size:24px; color:#64748b; cursor:pointer}
.bm-ms-form .field input[type="text"],
.bm-ms-form .field input[type="email"],
.bm-ms-form .field textarea{width:100%; padding:14px 16px; border:1px solid #e5e7eb; border-radius:12px; font-size:16px; outline:none}
.bm-ms-form .field input:focus,
.bm-ms-form .field textarea:focus{border-color:#9edcff; box-shadow:0 0 0 3px rgba(14,165,233,.14)}
.bm-ms-form .field span{display:block; font-size:13px; color:#334155; margin-bottom: 0;
  margin-top: 20px;}
.bmms-optional{display:block}

/* Steps */
.bmms-step{display:none; opacity:0; transform:translateY(8px); transition:opacity .25s ease, transform .25s ease}
.bmms-step.active{display:block; opacity:1; transform:translateY(0)}

/* Splash animation */
.bmms-splash{display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; padding:32px 16px;}
.bmms-splash-text{font-size:18px; color:#0f172a; margin-top:12px}
.bmms-splash-sub{font-size:13px; color:#6b7280; margin-top:4px}
.bmms-logo-anim{display:inline-flex; align-items:center; justify-content:center; gap:6px}
.bmms-logo-anim.large{transform:scale(1.1)}
.bmms-logo-anim .dot{width:10px; height:10px; border-radius:50%; background:linear-gradient(135deg,var(--primary),var(--accent)); animation:bmms-pulse 1.2s ease infinite}
.bmms-logo-anim .dot:nth-child(2){animation-delay:.15s}
.bmms-logo-anim .dot:nth-child(3){animation-delay:.3s}
@keyframes bmms-pulse{0%{opacity:.4; transform:translateY(0)}50%{opacity:1; transform:translateY(-4px)}100%{opacity:.4; transform:translateY(0)}}

/* Icon options */
.bmms-section-title{font-weight:600; color:#0f172a; margin:0 0 6px 0; text-align:center}
.bmms-help{font-size:13px; color:#6b7280; margin:0 0 12px 0; text-align:center}
.bmms-icon-grid{display:grid; grid-template-columns:repeat(4,1fr); gap:12px; max-width:680px; margin:0 auto}
.bmms-icon-card{border:1px solid var(--border); border-radius:12px; padding:14px; background:#fff; display:flex; flex-direction:column; align-items:center; gap:8px; cursor:pointer; user-select:none}
.bmms-icon-card input{display:none}
.bmms-icon-card .icon{width:56px; height:56px; border-radius:14px; background:#f1f5f9; position:relative}
.bmms-icon-card .label{font-size:13px; color:#334155}
.bmms-icon-card:has(input:checked){border-color:#9edcff; box-shadow:0 0 0 3px rgba(14,165,233,.14)}
/* simple icon shapes */
.i-lightning{background:linear-gradient(135deg,#fef3c7,#fde68a)}
.i-lightning:before{content:''; position:absolute; left:20px; top:10px; width:16px; height:30px; background:#fb923c; transform:skewX(-15deg)}
.i-gauge{background:linear-gradient(135deg,#dcfce7,#bbf7d0)}
.i-gauge:before{content:''; position:absolute; left:12px; top:12px; width:32px; height:32px; border-radius:16px; background:#10b981}
.i-rocket{background:linear-gradient(135deg,#e0e7ff,#c7d2fe)}
.i-rocket:before{content:''; position:absolute; left:18px; top:10px; width:20px; height:34px; background:#6366f1; border-radius:12px 12px 4px 4px}
.i-custom{background:linear-gradient(135deg,#f5d0fe,#fbcfe8)}

/* Slider with 3 slides, 4 items each */
.bmms-slider{position:relative; padding:12px 8px;}
.bmms-slides{overflow:hidden}
.bmms-slide{display:grid; grid-template-columns:repeat(2,1fr); gap:12px; padding:8px}
.bmms-card{border:1px solid var(--border); border-radius:12px; background:#fff; padding:10px; display:flex; align-items:center; justify-content:center; cursor:pointer}
.bmms-card{position:relative}
.bmms-card .bmms-card-footer{position:absolute;left:8px;bottom:8px;background:rgba(17,24,39,.85);color:#fff;padding:4px 8px;border-radius:6px;font-size:12px}
.bmms-card.selected{outline:2px solid #111827}
.bmms-ideas{display:grid;grid-template-columns:repeat(6,minmax(0,1fr));gap:8px}
.bmms-idea-card{display:block;border:1px solid #e5e7eb;border-radius:8px;padding:4px;}
.bmms-idea-card img{display:block;width:100%;height:auto;border-radius:6px}
.bmms-card img{max-width:100%; height:auto; border-radius:10px}
.bmms-slide-nav{position:absolute; top:50%; transform:translateY(-50%); border:1px solid var(--border); background:#fff; color:#0f172a; width:36px; height:36px; border-radius:18px; display:flex; align-items:center; justify-content:center; box-shadow:0 8px 18px rgba(2,6,23,.06)}
.bmms-slide-nav.prev{left:6px}
.bmms-slide-nav.next{right:6px}

/* Final preview */
.bmms-final{display:flex; flex-direction:column; gap:12px; align-items:center}
.bmms-final-view{display:flex; flex-direction:column; gap:8px; align-items:center}
#bmms-final-image{max-width:680px; width:100%; border:1px solid var(--border); border-radius:12px}
.bmms-zoom-overlay{position:fixed; inset:0; background:rgba(2,6,23,.5); display:flex; align-items:center; justify-content:center; z-index:9999}
.bmms-zoom-inner{position:relative; background:#fff; padding:12px; border-radius:12px; box-shadow:0 12px 30px rgba(2,6,23,.24)}
.bmms-zoom-inner img{max-width:92vw; max-height:86vh}
.bmms-zoom-close{position:absolute; top:4px; right:8px; border:none; background:transparent; font-size:28px; cursor:pointer}

/* Inline errors, logo idea thumbs, and disabled actions */
.bmms-error{color:#ef4444; font-size:14px; margin:8px 0; display:none}
.bmms-logoidea-thumb{width:96px; height:96px; object-fit:cover; border-radius:8px; border:1px solid rgba(0,0,0,0.08); box-shadow:0 1px 2px rgba(0,0,0,0.06)}
.bmms-actions .btn[disabled], .bmms-actions button[disabled]{opacity:.5; cursor:not-allowed}

/* Responsiveness */
@media (max-width:640px){
  .bmms-icon-grid{grid-template-columns:repeat(2,1fr)}
  .bmms-slide{grid-template-columns:1fr}
}
.bm-error{color:#b91c1c; font-size:var(--font-size-sm);} 

/* Accessibility helpers */
.bm-chat-messages[role="log"]{outline:none;} 

/* Responsiveness */
@media (max-width:900px){
  .bm-with-sidebar .bm-sidebar{position:static; width:auto; height:auto;}
  .bm-with-sidebar .bm-chat-container{margin-left:0;}
  #bm-user-input{width:100%;}
  .bm-icon-btn{min-width:44px; min-height:44px;}
}

@keyframes bm-fade-in{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}
.container{max-width:980px;margin:0 auto;padding:20px}
.footer{padding:22px;color:#64748b;text-align:center}
/* Voice recording visual state (frontend parity) */
#bm-voice-button.recording {
  background: #ef4444;
  color: #ffffff;
}
.bm-error{color:#b91c1c; font-size:var(--font-size-sm);} 

/* Accessibility helpers */
.bm-chat-messages[role="log"]{outline:none;} 

/* Responsiveness */
@media (max-width:900px){
  .bm-with-sidebar .bm-sidebar{position:static; width:auto; height:auto;}
  .bm-with-sidebar .bm-chat-container{margin-left:0;}
  #bm-user-input{width:100%;}
  .bm-icon-btn{min-width:44px; min-height:44px;}
}

@keyframes bm-fade-in{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}
.container{max-width:980px;margin:0 auto;padding:20px}
.footer{padding:22px;color:#64748b;text-align:center}
/* Message meta styles for bm markup */
.bm-message-meta { 
  margin-top: 6px; 
  font-size: 12px; 
  color: #6b7280; 
  display: flex; 
  align-items: center; 
  gap: 6px; 
}
.bm-time-ago { 
  font-size: 12px; 
  color: #9ca3af; 
}
/* Typing indicator enhancements: animated dots and stop button */
.bm-typing-indicator{ display:none; color:#64748b; font-size:12px; margin:6px 12px; align-items:center; gap:8px; }
.bm-typing-indicator.visible{ display:flex; }
.bm-typing-text{ color:#64748b; }
.bm-typing-dots{ display:inline-flex; gap:3px; }
.bm-typing-dots span{ width:4px; height:4px; background:#9ca3af; border-radius:50%; display:block; animation: bm-dot 1s infinite ease-in-out; }
.bm-typing-dots span:nth-child(2){ animation-delay: .2s; }
.bm-typing-dots span:nth-child(3){ animation-delay: .4s; }
@keyframes bm-dot{ 0%{ opacity:.3; transform: translateY(0) } 50%{ opacity:1; transform: translateY(-2px) } 100%{ opacity:.3; transform: translateY(0) } }

/* Stop button (inline chip-like) */
.bm-stop-btn{ display:none; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; border:1px solid var(--border-color); background:#fff; color:#374151; cursor:pointer; }
.bm-stop-btn:hover{ background:#f3f4f6; }
.bm-copy-btn{
  width:22px; height:22px; padding:0; border:none; border-radius:6px;
  background:transparent; color:#94a3b8; cursor:pointer;
  display:inline-flex; align-items:center; justify-content:center;
}
.bm-message-meta .bm-copy-btn{ position:static; }
.bm-message .bm-copy-btn{ position:absolute; right:6px; top:6px; }
.bm-copy-btn:hover{ color:#0f172a; background:rgba(148,163,184,0.12); }
.bm-copy-btn.copied{ color:#16a34a; }

@media (max-width: 900px) {
  .sidebar { position: static; width: auto; height: auto; border-right: none; }
  .bm-sidebar { position: static; width: auto; height: auto; border-right: none; }
  body.with-sidebar { padding-left: 0; }
  .bm-with-sidebar .bm-chat-container { margin-left: 0; }
}
.bm-error{color:#b91c1c; font-size:var(--font-size-sm);} 

/* Accessibility helpers */
.bm-chat-messages[role="log"]{outline:none;} 

/* Responsiveness */
@media (max-width:900px){
  .bm-with-sidebar .bm-sidebar{position:static; width:auto; height:auto;}
  .bm-with-sidebar .bm-chat-container{margin-left:0;}
  #bm-user-input{width:100%;}
  .bm-icon-btn{min-width:44px; min-height:44px;}
}

@keyframes bm-fade-in{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}
.container{max-width:980px;margin:0 auto;padding:20px}
.footer{padding:22px;color:#64748b;text-align:center}
/* Voice recording visual state (frontend parity) */
#bm-voice-button.recording {
  background: #ef4444;
  color: #ffffff;
}
.bm-error{color:#b91c1c; font-size:var(--font-size-sm);} 

/* Accessibility helpers */
.bm-chat-messages[role="log"]{outline:none;} 

/* Responsiveness */
@media (max-width:900px){
  .bm-with-sidebar .bm-sidebar{position:static; width:auto; height:auto;}
  .bm-with-sidebar .bm-chat-container{margin-left:0;}
  #bm-user-input{width:100%;}
  .bm-icon-btn{min-width:44px; min-height:44px;}
}

@keyframes bm-fade-in{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}
.container{max-width:980px;margin:0 auto;padding:20px}
.footer{padding:22px;color:#64748b;text-align:center}
/* Message meta styles for bm markup */
.bm-message-meta { 
  margin-top: 6px; 
  font-size: 12px; 
  color: #6b7280; 
  display: flex; 
  align-items: center; 
  gap: 6px; 
}
.bm-time-ago { 
  font-size: 12px; 
  color: #9ca3af; 
}
/* ===== BM Multi‑Step Form ===== */
.bm-ms-form{
  font-family:'Figtree',system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial; 
  background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%); 
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  margin: 0;
  padding: 0;
}
.bm-ms-form-content {
  background: #ffffff;
  border: none;
  border-radius: 24px;
  padding: 48px;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
  max-width: 100%;
  width: 90%;
  max-height: 100vh;
  overflow-y: auto;
  min-height: 90vh;
}
.bm-ms-form .bmms-title{
  font-size: 28px; 
  font-weight: 400; 
  margin: 16px 0 8px 0; 
  color: #1f2937;
  line-height: 1.3;
}
.bm-ms-form .bmms-sub{
  color: #6b7280; 
  margin: 0 0 32px 0;
  font-size: 16px;
  line-height: 1.5;
}
.bm-ms-form .bmms-splash-header{display:flex; flex-direction:column; align-items:center; text-align:center}
.bm-ms-form .bmms-fields{display:flex; flex-direction:column; gap:16px; max-width:500px; margin:16px auto}
.bm-ms-form .actions{display:flex; gap:10px; justify-content:center; margin-top:16px}
.bmms-tip{color:#6b7280; font-size:13px; margin-top:8px}
.bmms-close{position:absolute; top:14px; right:16px; border:none; background:transparent; font-size:24px; color:#64748b; cursor:pointer}
.bm-ms-form .field input[type="text"],
.bm-ms-form .field input[type="email"],
.bm-ms-form .field textarea{width:100%; padding:14px 16px; border:1px solid #e5e7eb; border-radius:12px; font-size:16px; outline:none}
.bm-ms-form .field input:focus,
.bm-ms-form .field textarea:focus{border-color:#9edcff; box-shadow:0 0 0 3px rgba(14,165,233,.14)}
.bm-ms-form .field span{display:block; font-size:13px; color:#334155; margin-bottom: 0;
  margin-top: 20px;}
.bmms-optional{display:block}

/* Steps */
.bmms-step{display:none; opacity:0; transform:translateY(8px); transition:opacity .25s ease, transform .25s ease}
.bmms-step.active{display:block; opacity:1; transform:translateY(0)}

/* Splash animation */
.bmms-splash{display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; padding:32px 16px;}
.bmms-splash-text{font-size:18px; color:#0f172a; margin-top:12px}
.bmms-splash-sub{font-size:13px; color:#6b7280; margin-top:4px}
.bmms-logo-anim{display:inline-flex; align-items:center; justify-content:center; gap:6px}
.bmms-logo-anim.large{transform:scale(1.1)}
.bmms-logo-anim .dot{width:10px; height:10px; border-radius:50%; background:linear-gradient(135deg,var(--primary),var(--accent)); animation:bmms-pulse 1.2s ease infinite}
.bmms-logo-anim .dot:nth-child(2){animation-delay:.15s}
.bmms-logo-anim .dot:nth-child(3){animation-delay:.3s}
@keyframes bmms-pulse{0%{opacity:.4; transform:translateY(0)}50%{opacity:1; transform:translateY(-4px)}100%{opacity:.4; transform:translateY(0)}}

/* Icon options */
.bmms-section-title{font-weight:600; color:#0f172a; margin:0 0 6px 0; text-align:center}
.bmms-help{font-size:13px; color:#6b7280; margin:0 0 12px 0; text-align:center}
.bmms-icon-grid{display:grid; grid-template-columns:repeat(4,1fr); gap:12px; max-width:680px; margin:0 auto}
.bmms-icon-card{border:1px solid var(--border); border-radius:12px; padding:14px; background:#fff; display:flex; flex-direction:column; align-items:center; gap:8px; cursor:pointer; user-select:none}
.bmms-icon-card input{display:none}
.bmms-icon-card .icon{width:56px; height:56px; border-radius:14px; background:#f1f5f9; position:relative}
.bmms-icon-card .label{font-size:13px; color:#334155}
.bmms-icon-card:has(input:checked){border-color:#9edcff; box-shadow:0 0 0 3px rgba(14,165,233,.14)}
/* simple icon shapes */
.i-lightning{background:linear-gradient(135deg,#fef3c7,#fde68a)}
.i-lightning:before{content:''; position:absolute; left:20px; top:10px; width:16px; height:30px; background:#fb923c; transform:skewX(-15deg)}
.i-gauge{background:linear-gradient(135deg,#dcfce7,#bbf7d0)}
.i-gauge:before{content:''; position:absolute; left:12px; top:12px; width:32px; height:32px; border-radius:16px; background:#10b981}
.i-rocket{background:linear-gradient(135deg,#e0e7ff,#c7d2fe)}
.i-rocket:before{content:''; position:absolute; left:18px; top:10px; width:20px; height:34px; background:#6366f1; border-radius:12px 12px 4px 4px}
.i-custom{background:linear-gradient(135deg,#f5d0fe,#fbcfe8)}

/* Slider with 3 slides, 4 items each */
.bmms-slider{position:relative; padding:12px 8px;}
.bmms-slides{overflow:hidden}
.bmms-slide{display:grid; grid-template-columns:repeat(2,1fr); gap:12px; padding:8px}
.bmms-card{border:1px solid var(--border); border-radius:12px; background:#fff; padding:10px; display:flex; align-items:center; justify-content:center; cursor:pointer}
.bmms-card{position:relative}
.bmms-card .bmms-card-footer{position:absolute;left:8px;bottom:8px;background:rgba(17,24,39,.85);color:#fff;padding:4px 8px;border-radius:6px;font-size:12px}
.bmms-card.selected{outline:2px solid #111827}
.bmms-ideas{display:grid;grid-template-columns:repeat(6,minmax(0,1fr));gap:8px}
.bmms-idea-card{display:block;border:1px solid #e5e7eb;border-radius:8px;padding:4px;}
.bmms-idea-card img{display:block;width:100%;height:auto;border-radius:6px}
.bmms-card img{max-width:100%; height:auto; border-radius:10px}
.bmms-slide-nav{position:absolute; top:50%; transform:translateY(-50%); border:1px solid var(--border); background:#fff; color:#0f172a; width:36px; height:36px; border-radius:18px; display:flex; align-items:center; justify-content:center; box-shadow:0 8px 18px rgba(2,6,23,.06)}
.bmms-slide-nav.prev{left:6px}
.bmms-slide-nav.next{right:6px}

/* Final preview */
.bmms-final{display:flex; flex-direction:column; gap:12px; align-items:center}
.bmms-final-view{display:flex; flex-direction:column; gap:8px; align-items:center}
#bmms-final-image{max-width:680px; width:100%; border:1px solid var(--border); border-radius:12px}
.bmms-zoom-overlay{position:fixed; inset:0; background:rgba(2,6,23,.5); display:flex; align-items:center; justify-content:center; z-index:9999}
.bmms-zoom-inner{position:relative; background:#fff; padding:12px; border-radius:12px; box-shadow:0 12px 30px rgba(2,6,23,.24)}
.bmms-zoom-inner img{max-width:92vw; max-height:86vh}
.bmms-zoom-close{position:absolute; top:4px; right:8px; border:none; background:transparent; font-size:28px; cursor:pointer}

/* Inline errors, logo idea thumbs, and disabled actions */
.bmms-error{color:#ef4444; font-size:14px; margin:8px 0; display:none}
.bmms-logoidea-thumb{width:96px; height:96px; object-fit:cover; border-radius:8px; border:1px solid rgba(0,0,0,0.08); box-shadow:0 1px 2px rgba(0,0,0,0.06)}
.bmms-actions .btn[disabled], .bmms-actions button[disabled]{opacity:.5; cursor:not-allowed}

/* Responsiveness */
@media (max-width:640px){
  .bmms-icon-grid{grid-template-columns:repeat(2,1fr)}
  .bmms-slide{grid-template-columns:1fr}
}
.bm-error{color:#b91c1c; font-size:var(--font-size-sm);} 

/* Accessibility helpers */
.bm-chat-messages[role="log"]{outline:none;} 

/* Responsiveness */
@media (max-width:900px){
  .bm-with-sidebar .bm-sidebar{position:static; width:auto; height:auto;}
  .bm-with-sidebar .bm-chat-container{margin-left:0;}
  #bm-user-input{width:100%;}
  .bm-icon-btn{min-width:44px; min-height:44px;}
}

@keyframes bm-fade-in{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}
.container{max-width:980px;margin:0 auto;padding:20px}
.footer{padding:22px;color:#64748b;text-align:center}
/* Voice recording visual state (frontend parity) */
#bm-voice-button.recording {
  background: #ef4444;
  color: #ffffff;
}
.bm-error{color:#b91c1c; font-size:var(--font-size-sm);} 

/* Accessibility helpers */
.bm-chat-messages[role="log"]{outline:none;} 

/* Responsiveness */
@media (max-width:900px){
  .bm-with-sidebar .bm-sidebar{position:static; width:auto; height:auto;}
  .bm-with-sidebar .bm-chat-container{margin-left:0;}
  #bm-user-input{width:100%;}
  .bm-icon-btn{min-width:44px; min-height:44px;}
}

@keyframes bm-fade-in{from{opacity:0; transform:translateY(6px)} to{opacity:1; transform:translateY(0)}}
.container{max-width:980px;margin:0 auto;padding:20px}
.footer{padding:22px;color:#64748b;text-align:center}
/* Message meta styles for bm markup */
.bm-message-meta { 
  margin-top: 6px; 
  font-size: 12px; 
  color: #6b7280; 
  display: flex; 
  align-items: center; 
  gap: 6px; 
}
.bm-time-ago { 
  font-size: 12px; 
  color: #9ca3af; 
}